<!doctype html>
<html>

<head>
	<meta charset='utf-8'>
	<link rel="stylesheet" type="text/css" href="./popup-css/select2.min.css">
	<link rel="stylesheet" type="text/css" href="./popup-css/popup.min.css">
	<link rel="stylesheet" type="text/css" href="./popup-css/options.min.css">
	<link rel="stylesheet" type="text/css" href="./popup-css/abstract.min.css">

	<script defer src="../shared/jquery.min.js"></script>
	<script defer src="../shared/select2.min.js"></script>

	<script defer src="../shared/utils.min.js"></script>

	<!-- <script defer src="../shared/utils/functions.js"></script> -->
	<!-- <script defer src="../shared/utils/config.js"></script> -->
	<!-- <script defer src="../shared/utils/parsers.js"></script> -->

	<script defer src="./popup-js.min.js"></script>


</head>

<body>

	<div class="popup-header">
		<h1>Arxiv Tools</h1>
		<svg class="tabler-icon">
			<use xlink:href="../../icons/tabler-sprite-nostroke.svg#tabler-bolt" />
		</svg>
	</div>

	<div id="container">
		<div id="notArxiv" style="display: none">
			<!-- <div class="header">
				<svg class="tabler-icon">
					<use xlink:href="../../icons/tabler-sprite-nostroke.svg#tabler-cloud-storm" />
				</svg>
			</div> -->


			<p>Keep track of your readings with <strong>ArxivMemory!</strong> It automatically and locally stores
				papers you open in your browser</p>
			<p>When opening a paper (its web page or pdf), a reference to that paper will be stored in your
				ArxivMemory. In addition to Arxiv, NeurIPS, CVPR & I/ECCV papers are supported!
			</p>

			<!-- <p>Beyond simple <strong>searching</strong>, you can also <strong>customize</strong> a paper's entry with: a
				link to its code, tags and a
				quick note.</p> -->
			<p>Click on the ArxivMemory button below (or press <code
					style="padding: 1px 4px; vertical-align: text-top; border-radius: 4px; background-color: rgb(238, 238, 238);">a</code>
				)! (<a id="keyboardShortcuts" href="#">keyboard guide</a>)
			</p>
		</div>

		<div id="notPdf" style="display: none;">
			<h3>You're not on a paper's pdf webpage</h3>
			<p>This extension can bring you from an Arxiv-hosted pdf webpage to its Arxiv Abstract page.</p>
			<p>For instance from https://arxiv.org/pdf/1703.06907.pdf to https://arxiv.org/abs/1703.06907</p>
			<br />
			<p>Keep track of your readings with <strong>ArxivMemory!</strong></p>
			<small>When opening Arxiv web pages and pdfs, a reference to that paper will be stored in your ArxivMemory.
				Now also handles NeurIPS, CVPR & I/ECCV pdfs!
				You can find them all by clicking on the ArxivMemory button.</small>
		</div>

		<div id="isArxiv" style="display: none;">

			<h3 style="text-align: center; max-width: 85%; font-weight: 400; margin-bottom: 0px; margin-top: 0px;"
				id="popup-paper-title"></h3>

			<p style="text-align: center; max-width: 85%; font-weight: 400; color: grey" id="popup-authors"></p>

			<p style="display: none" class="mt-0" id="popup-code-link"></p>

			<div style="width: 75%; margin-bottom: 28px; position: relative;">
				<div style="display: flex; justify-content: space-evenly; align-items: center;" id="popup-copy-icons">
				</div>
				<div style="color: green; position: absolute; left: 50%; display: none;
				transform: translate(-50%, 0); bottom: -20px; width: 280px; text-align: center;" id="popup-feedback-copied"></div>
			</div>

			<!-- <p>Keep track of your readings with <strong>ArxivMemory!</strong></p> -->

			<div id="popup-memory-edit" style="width: 100%; margin-bottom: 32px;"></div>

		</div>


		<div id="menuDiv" style="display: none;">

			<p>It's the little things that make your research smoother.</p>

			<p>Look at the code ; raise issues ; share improvement ideas </p>

			<p><a id="helpGithubLink"
					href="https://github.com/vict0rsch/ArxivTools">https://github.com/vict0rsch/ArxivTools</a>
			</p>

			<!-- <p>Using VSCode? Checkout <a id="coblock"
					href="https://marketplace.visualstudio.com/items?itemName=vict0rsch.coblock">CoBlock</a>, an easy
				way to structure your code with blocks of comments</p> -->

			<h4>Options</h4>

			<div id="options">
				<input class="switch" type="checkbox" id="checkDownload" name="checkDownload" value="checkDownload">
				<label for="checkDownload">Add PDF direct download
					button</label><br><br>

				<input class="switch" type="checkbox" id="checkMd" name="checkMd" value="checkMd">
				<label for="checkMd"> Add Markdown Link section</label><br><br>

				<input class="switch" type="checkbox" id="checkBib" name="checkBib" value="checkBib">
				<label for="checkBib"> Add BibTex citation section</label><br><br>

				<input class="switch" type="checkbox" id="checkPdfTitle" name="checkPdfTitle" value="checkPdfTitle">
				<label for="checkPdfTitle"> Change Arxiv tab titles</label><br><br>

				<input class="switch" type="checkbox" id="checkVanity" name="checkVanity" value="checkVanity">
				<label for="checkVanity"> Add Bibtex citation on Arxiv-Vanity</label><br><br>

				<input class="switch" type="checkbox" id="checkFeedback" name="checkFeedback" value="checkFeedback">
				<label for="checkFeedback"> Display feedback slider when a paper is added</label><br><br>
			</div>

			<div style="display: flex; align-items: center;">
				<p>Download your ArxivMemory as json file: </p>
				<button style="margin-left: 3px" id="download-arxivmemory">Download</button>
			</div>

			<div style="display: flex; justify-content: center; flex-direction: column; align-items: center;">
				<p>
					/!\ <strong>Beta</strong> feature: PDF file name parser -> enter a javascript function taking as
					input
					<code style="margin: 0px; display: inline-block;">(title, id)</code> and returning a string.
				</p>

				<textarea id="customPdfTitleTextarea" style="width: 100%; margin-bottom: 8px;" rows="5">
(title, id) => {
    title = title.replaceAll("\n", '');
    return `${title} - ${id}.pdf`
}</textarea>
				<div
					style="display: flex; justify-content: space-evenly; align-items: center; margin-bottom: 16px; width: 60%">
					<button id="saveCustomPdf">Save function</button>
					<button id="defaultCustomPdf">Back to default</button>
				</div>
				<div id="customPdfFeedback"></div>
			</div>
		</div>

	</div>
	<div id="memory-switch">
		<svg xmlns="http://www.w3.org/2000/svg" tabindex="0" id="memory-switch-text-on"
			class="icon icon-tabler icon-tabler-folders" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5"
			fill="none" stroke-linecap="round" stroke-linejoin="round">
			<path stroke="none" d="M0 0h24v24H0z" fill="none" />
			<path d="M9 4h3l2 2h5a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2" />
			<path d="M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2h2" />
			<title>Open Memory</title>
		</svg>
		<svg xmlns="http://www.w3.org/2000/svg" id="memory-switch-text-off" style="display: none"
			class="icon icon-tabler icon-tabler-circle-x" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5"
			stroke="white" fill="#2c3e50" stroke-linecap="round" stroke-linejoin="round">
			<path stroke="none" d="M0 0h24v24H0z" fill="none" />
			<circle cx="12" cy="12" r="9" />
			<path d="M10 10l4 4m0 -4l-4 4" />
		</svg>
	</div>
	<div id="memory-container" style="display: none;">
		<div id="memory-filters">
			<input id="memory-search" type="text" placeholder="search" style="width: 45%;" />
			<span style="cursor: pointer" id="filter-favorites" title="Show favorites only">
				<svg style="vertical-align: bottom; height: 22px; width: 32px">
					<use xlink:href="../../icons/tabler-sprite-nostroke.svg#tabler-star" />
				</svg>
			</span>
			<select style="width: 30%;" id="memory-select">
				<option value="lastOpenDate">Last Open</option>
				<option value="addDate">Last Added</option>
				<option value="title">Title</option>
				<option value="count"># Visits</option>
				<option value="id">ID</option>
			</select>
			<span id="memory-sort-arrow">
				<svg class="memory-sort-arrow-svg" id="memory-sort-arrow-down">
					<use xlink:href="../../icons/tabler-sprite-nostroke.svg#tabler-arrow-narrow-down" />
				</svg>
			</span>
		</div>
		<div id="memory-table" width="100%">
		</div>
	</div>
	<div id="tabler-menu" tabindex="0" title="Open settings">
		<svg id='tabler-menu-svg' class="tabler-icon">
			<use xlink:href="../../icons/tabler-sprite-nostroke.svg#tabler-settings" />
		</svg>
	</div>

	<!-- <div id="content"></div> -->

</body>

</html>