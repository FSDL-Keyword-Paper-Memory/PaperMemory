String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var englishStopWords=new Set([["i","me","my","myself","we","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","a","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","s","t","can","will","just","don","should","now"]]);const firstNonStopLowercase=e=>{let t=e.toLowerCase(),r=t.split(" ").map(e=>e.replace(/[^0-9a-z]/gi,"")),n=r.filter(e=>englishStopWords.has(e));return n.length>0?n[0]:r[0]},parseArxivBibtex=e=>{var t=$(e),r=[],n="";t.find("author name").each((e,t)=>{r.push($(t).text()),0===e&&(n+=$(t).text().split(" ")[$(t).text().split(" ").length-1].toLowerCase())});var i="";t.find("link").each((e,t)=>{const r=$(t).attr("href");r&&r.indexOf("arxiv.org/pdf/")>=0&&(i=r)});const a=r.join(" and "),o=$(t.find("entry title")[0]).text(),s=$(t.find("entry published")[0]).text().slice(0,4);let h;n+=s,n+=firstNonStopLowercase(o);const l=t.find("id");l.each((e,t)=>{$(t).html().match(/\d\d\d\d\.\d\d\d\d\d/g)&&(h=$(t).html().match(/\d\d\d\d\.\d\d\d\d\d/g)[0])});const d={key:n,title:o,author:a,year:s,id:h,pdfLink:i};let c=`@article{${n},\n`;return c+=`    title={${o}},\n`,c+=`    author={${a}},\n`,c+=`    year={${s}},\n`,c+=`    journal={arXiv preprint arXiv:${h}}\n`,c+="}",{bibvars:d,bibtext:c}},parseNeuripsHTML=(e,t)=>{const r=(new DOMParser).parseFromString(t.replaceAll("\n",""),"text/html"),n=$(r),i=n.find(".container-fluid .col p"),a=e.split("/").slice(-1)[0].replace("-Paper.pdf",""),o=n.find("h4").first().text(),s=$(i[1]).text().split(", ").map((e,t)=>{const r=e.split(" "),n=r.map((e,t)=>e.capitalize());return n.join(" ")}).join(" and "),h=e,l=$(i[0]).text().match(/\d{4}/)[0],d=`neurips${l}${a.slice(0,8)}`,c=`NeurIPS-${l}_${a.slice(0,8)}`,p=`\n@inproceedings{NEURIPS${l}_${a.slice(0,8)}\n    author = {${s}},\n    booktitle = {Advances in Neural Information Processing Systems},\n    editor = {H. Larochelle and M. Ranzato and R. Hadsell and M. F. Balcan and H. Lin},\n    publisher = {Curran Associates, Inc.},\n    title = {${o}},\n    url = {${e}},\n    year = {${l}}\n}`;return{key:d,title:o,author:s,year:l,id:c,pdfLink:h,bibtext:p}},fetchArxivBibtex=async e=>$.get(`https://export.arxiv.org/api/query?id_list=${e}`),fetchNeuripsHTML=async e=>{let t;return t=e.endsWith(".pdf")?e.replace("/file/","/hash/").replace("-Paper.pdf","-Abstract.html"):e,fetch(t).then(e=>e.text())};