function delay(e,t){let n=0;return function(...a){clearTimeout(n),n=setTimeout(e.bind(this,...a),t||0)}}function fallbackCopyTextToClipboard(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy"),a=n?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+a)}catch(e){console.error("Fallback: Oops, unable to copy",e)}document.body.removeChild(t)}function copyTextToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then(function(){console.log("Async: Copying to clipboard was successful!")},function(e){console.error("Async: Could not copy text: ",e)}):fallbackCopyTextToClipboard(e)}function parseUrl(e){var t=document.createElement("a");return t.href=e,t}const downloadTextFile=(e,t,n)=>{var a=document.createElement("a"),r=new Blob([e],{type:n});a.href=URL.createObjectURL(r),a.download=t,a.click()},eventId=e=>{const t=$(e.target),n=t.closest(".memory-item-container").attr("id").split("--")[1],a=n.replace(".","\\.");return{id:n,eid:a}},download_file=(e,t)=>{if(window.ActiveXObject){if(window.ActiveXObject&&document.execCommand){var n=window.open(e,"_blank");n.document.close(),n.document.execCommand("SaveAs",!0,t||e),n.close()}}else{var a=document.createElement("a");a.href=e,a.target="_blank";var r=e.substring(e.lastIndexOf("/")+1);if(a.download=t||r,navigator.userAgent.toLowerCase().match(/(ipad|iphone|safari)/)&&navigator.userAgent.search("Chrome")<0)document.location=a.href;else{var o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(o),(window.URL||window.webkitURL).revokeObjectURL(a.href)}}},defaultPDFTitleFn=(e,t)=>(e=e.replaceAll("\n"," ").replace(/\s\s+/g," "),`${e} - ${t}.pdf`),getPdfFn=code=>{try{pdfTitleFn=eval(code)}catch(e){console.log("Error parsing pdf title function. Function string then error:"),console.log(code),console.log(e),pdfTitleFn=defaultPDFTitleFn}try{pdfTitleFn("test","1.2")}catch(e){console.log("Error testing the user's pdf title function. Function string then error:"),console.log(code),console.log(e),pdfTitleFn=defaultPDFTitleFn}return pdfTitleFn},migrateData=async(e,t)=>{try{if(e.hasOwnProperty("__dataVersion")&&e.__dataVersion===t)return delete e.__dataVersion,e;const n=e.__dataVersion;delete e.__dataVersion;for(const t in e)n<5&&!e[t].hasOwnProperty("bibtext")&&(e[t].bibtext="",console.log("Migrating bibtext for "+t)),n<5&&!e[t].pdfLink.endsWith(".pdf")&&(e[t].pdfLink=e[t].pdfLink+".pdf"),n<5&&!e[t].codeLink&&(e[t].codeLink=""),n<5&&!e[t].source&&(e[t].id.includes("NeurIPS")?e[t].source="neurips":e[t].source="arxiv");return e.__dataVersion=t,chrome.storage.local.set({papers:e},()=>{console.log("Migrated papers:"),console.log(e)}),delete e.__dataVersion,e}catch(t){return console.log("Error migrating data:"),console.log(t),e}};var state={menuIsOpen:!1,memoryIsOpen:!1,papers:{},papersList:[],sortedPapers:[],sortKey:"",paperTags:new Set,dataVersion:0,pdfTitleFn:defaultPDFTitleFn};const statePdfTitle=(e,t)=>{let n;try{n=state.pdfTitleFn(e,t)}catch(a){n=defaultPDFTitleFn(e,t)}return n.replaceAll("\n"," ").replace(/\s\s+/g," ")},initState=async(e,t)=>{if(console.log("Found papers:"),console.log(e),state.dataVersion=5,e=await migrateData(e,state.dataVersion),t)return e;state.papers=e,state.papersList=Object.values(e),state.sortKey="lastOpenDate",sortMemory(),makeTags()};$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",swing:function(e,t,n,a,r){return $.easing[$.easing.def](e,t,n,a,r)},easeInQuad:function(e,t,n,a,r){return a*(t/=r)*t+n},easeOutQuad:function(e,t,n,a,r){return-a*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,a,r){return a*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,a,r){return a*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t+n:a/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,a,r){return a*(t/=r)*t*t*t+n},easeOutQuart:function(e,t,n,a,r){return-a*((t=t/r-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t*t+n:-a/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,a,r){return a*(t/=r)*t*t*t*t+n},easeOutQuint:function(e,t,n,a,r){return a*((t=t/r-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t*t*t+n:a/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,a,r){return-a*Math.cos(t/r*(Math.PI/2))+a+n},easeOutSine:function(e,t,n,a,r){return a*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,a,r){return-a/2*(Math.cos(Math.PI*t/r)-1)+n},easeInExpo:function(e,t,n,a,r){return 0==t?n:a*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,a,r){return t==r?n+a:a*(1-Math.pow(2,-10*t/r))+n},easeInOutExpo:function(e,t,n,a,r){return 0==t?n:t==r?n+a:(t/=r/2)<1?a/2*Math.pow(2,10*(t-1))+n:a/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,a,r){return-a*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOutCirc:function(e,t,n,a,r){return a*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOutCirc:function(e,t,n,a,r){return(t/=r/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+n:a/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,a,r){var o=1.70158,i=0,s=a;if(0==t)return n;if(1==(t/=r))return n+a;if(i||(i=.3*r),s<Math.abs(a)){s=a;o=i/4}else o=i/(2*Math.PI)*Math.asin(a/s);return-s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)+n},easeOutElastic:function(e,t,n,a,r){var o=1.70158,i=0,s=a;if(0==t)return n;if(1==(t/=r))return n+a;if(i||(i=.3*r),s<Math.abs(a)){s=a;o=i/4}else o=i/(2*Math.PI)*Math.asin(a/s);return s*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/i)+a+n},easeInOutElastic:function(e,t,n,a,r){var o=1.70158,i=0,s=a;if(0==t)return n;if(2==(t/=r/2))return n+a;if(i||(i=r*(.3*1.5)),s<Math.abs(a)){s=a;o=i/4}else o=i/(2*Math.PI)*Math.asin(a/s);return t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*-.5+n:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*.5+a+n},easeInBack:function(e,t,n,a,r,o){return null==o&&(o=1.70158),a*(t/=r)*t*((o+1)*t-o)+n},easeOutBack:function(e,t,n,a,r,o){return null==o&&(o=1.70158),a*((t=t/r-1)*t*((o+1)*t+o)+1)+n},easeInOutBack:function(e,t,n,a,r,o){return null==o&&(o=1.70158),(t/=r/2)<1?a/2*(t*t*((1+(o*=1.525))*t-o))+n:a/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+n}});